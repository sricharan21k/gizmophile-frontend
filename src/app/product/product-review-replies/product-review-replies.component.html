<div>
  <button
    class="inline-flex items-center gap-x-1 text-gray-800 hover:text-gray-600"
    (click)="hideReplies()"
  >
    <svg
      class="flex-shrink-0 size-4"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m15 18-6-6 6-6" />
    </svg>
    Hide Replies
  </button>
  <hr class="my-4" />

  <div class="my-4 mx-2">
    <div class="flex items-center">
      <div class="p-5 bg-gray-200 rounded-full"></div>
      <div class="ms-6">
        <h2 class="text-xl">{{ review?.profile?.username }}</h2>
        <div class="text-xs text-gray-500">
          <div>
            Posted on: {{ review?.posted | date : "dd/MM/yy h:mm:ss a" }}
          </div>
          <div>Last updated: {{ review?.lastUpdated }}</div>
        </div>
      </div>
      <div class="ms-auto flex flex-row-reverse justify-end items-center">
        <input
          id="hs-ratings-1"
          type="radio"
          class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
          [checked]="review?.rating == 5"
        />
        <label
          for="hs-ratings-1"
          class="peer-checked:text-gray-700 text-gray-300 pointer-events-none"
        >
          <svg
            class="flex-shrink-0 size-5"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
            />
          </svg>
        </label>
        <input
          id="hs-ratings-2"
          type="radio"
          class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
          [checked]="(review?.rating ?? 0) >= 4"
        />
        <label
          for="hs-ratings-2"
          class="peer-checked:text-gray-700 text-gray-300 pointer-events-none"
        >
          <svg
            class="flex-shrink-0 size-5"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
            />
          </svg>
        </label>
        <input
          id="hs-ratings-3"
          type="radio"
          class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
          [checked]="(review?.rating ?? 0) >= 3"
        />
        <label
          for="hs-ratings-3"
          class="peer-checked:text-gray-700 text-gray-300 pointer-events-none"
        >
          <svg
            class="flex-shrink-0 size-5"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
            />
          </svg>
        </label>
        <input
          id="hs-ratings-4"
          type="radio"
          class="peer -ms-5 size-5 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0"
          [checked]="(review?.rating ?? 0) >= 2"
        />
        <label
          for="hs-ratings-4"
          class="peer-checked:text-gray-700 text-gray-300 pointer-events-none"
        >
          <svg
            class="flex-shrink-0 size-5"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
            />
          </svg>
        </label>
        <input
          id="hs-ratings-5"
          type="radio"
          class="peer -ms-5 size-5 bg-transparent border-0 text-transparent appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0 pointer-events-none"
          [checked]="(review?.rating ?? 0) >= 1"
        />
        <label
          for="hs-ratings-5"
          class="peer-checked:text-gray-700 text-gray-300 pointer-events-none"
        >
          <svg
            class="flex-shrink-0 size-5"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
            />
          </svg>
        </label>
      </div>
    </div>
    <div class="ms-16 mt-4">
      <p>{{ review?.content }}</p>
    </div>
    <div class="flex h-28 ms-12">
      <!-- <img [src]="'/assets/' + product?.colors?.get('black')" alt="" /> -->
      <!-- <img [src]="'/assets/' + colorImage[1]" alt="" /> -->
    </div>
    <div class="flex items-center mt-4">
      <div class="ms-16">
        <h3>{{ review?.product }}</h3>
      </div>
      <div class="ms-auto flex items-center gap-x-8">
        <button class="flex items-center gap-x-1">
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1"
              stroke="currentColor"
              class="size-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"
              /></svg></span
          >{{ review?.replies }}
        </button>
        <button class="flex items-center gap-x-1">
          <span>
            <svg
              class="flex-shrink-0 size-4"
              xmlns="http://www.w3.org/2000/svg"
              class="size-5"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.25"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M7 10v12" />
              <path
                d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z"
              /></svg></span
          >{{ review?.likes }}
        </button>
      </div>
    </div>

    <hr class="mt-4" />
  </div>
</div>

<div class="mt-4">
  <div class="relative w-3/4 mx-auto">
    <div class="w-2/3 mx-auto p-4">
      <div class="p-4 bg-white rounded-lg">
        <label for="textarea-email-label" class="sr-only">Comment</label>
        <textarea
          id="textarea-email-label"
          class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-gray-500 focus:ring-gray-500 disabled:opacity-50 disabled:pointer-events-none"
          rows="3"
          placeholder="Comment"
        ></textarea>
        <div class="ms-auto">
          <button
            type="button"
            class="ms-auto py-2 px-4 inline-flex items-center gap-x-2 text-gray-600 font-semibold rounded-lg border border-transparent bg-gray-100 hover:bg-gray-200"
          >
            Post
          </button>
        </div>
      </div>
    </div>
  </div>
  <hr class="mt-8" />
  <div class="mt-5" *ngFor="let reply of replies">
    <h3>{{ reply.profile.username }}</h3>
    <div>{{ reply.lastUpdated }}</div>
    <p>{{ reply.content }}</p>
    <hr class="my-4 border-gray-50" />
  </div>
</div>
